# 贡献指南

感谢你对Sylph框架的关注！我们非常欢迎各种形式的贡献，包括但不限于代码贡献、问题报告、文档改进、功能建议等。

## 目录

- [行为准则](#行为准则)
- [如何贡献](#如何贡献)
  - [报告Bug](#报告bug)
  - [功能请求](#功能请求)
  - [代码贡献](#代码贡献)
- [开发流程](#开发流程)
  - [环境设置](#环境设置)
  - [编码规范](#编码规范)
  - [提交规范](#提交规范)
  - [测试](#测试)
- [Pull Request流程](#pull-request流程)
- [发布流程](#发布流程)

## 行为准则

我们希望每个参与者都能够尊重他人，创造一个积极、包容的社区环境。参与者应当：

- 使用友好和包容的语言
- 尊重不同的观点和经验
- 礼貌地接受建设性批评
- 关注于最能够帮助社区的事情
- 对其他社区成员表示同理心

## 如何贡献

### 报告Bug

如果你发现了Bug，请通过GitHub的Issue功能报告，并确保：

1. 使用清晰、描述性的标题
2. 详细描述复现步骤
3. 说明预期行为和实际行为
4. 提供版本信息（Go版本、Sylph版本等）
5. 如有可能，提供错误日志或截图

### 功能请求

如果你有新功能的想法，我们同样欢迎通过Issue提出：

1. 使用"功能请求"作为标题前缀
2. 详细描述该功能的使用场景和解决的问题
3. 如有可能，提供功能的实现思路或参考资料

### 代码贡献

如果你希望通过代码为项目做出贡献，请遵循以下步骤：

1. Fork本仓库
2. 创建你的特性分支 (`git checkout -b feature/amazing-feature`)
3. 提交你的修改 (`git commit -m '添加了一些很棒的特性'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 提交Pull Request

## 开发流程

### 环境设置

确保你的开发环境满足以下条件：

- Go 1.24或更高版本
- 配置好GOPATH和GOROOT
- 安装必要的依赖工具（可选）：
  - golangci-lint（代码检查）
  - mockgen（测试模拟）

```bash
# 克隆仓库
git clone https://github.com/sylphbyte/sylph.git

# 安装依赖
cd sylph
go mod download

# 安装开发工具
go install github.com/golangci/golangci-lint/cmd/golangci-lint@latest
go install github.com/golang/mock/mockgen@latest
```

### 编码规范

我们遵循标准的Go编码规范和最佳实践：

- 遵循[Effective Go](https://golang.org/doc/effective_go.html)的建议
- 使用`gofmt`格式化代码
- 完善的注释和文档字符串
- 遵循包的职责单一原则
- 编写单元测试覆盖关键功能

### 提交规范

提交消息应当清晰地描述更改的内容和原因：

```
<类型>: <简短描述>

<详细描述>

<关联的issue>
```

类型可以是：
- feat: 新功能
- fix: Bug修复
- docs: 文档更改
- style: 不影响代码含义的更改（空格、格式等）
- refactor: 代码重构
- perf: 性能改进
- test: 添加或修改测试
- chore: 构建过程或辅助工具的变动

例如：
```
feat: 添加异步日志处理功能

实现了基于channel的异步日志处理机制，可以显著减少日志对主业务的影响。
添加了相关的单元测试和性能测试。

Closes #42
```

### 测试

所有代码贡献应当包含适当的测试：

- 单元测试：覆盖新增功能或修复的Bug
- 基准测试：对于性能敏感的改动
- 集成测试：确保与其他组件的兼容性

运行测试：
```bash
# 运行所有测试
go test ./...

# 运行基准测试
go test -bench=. ./...

# 测试覆盖率
go test -cover ./...
```

## Pull Request流程

1. 确保你的PR包含完整的测试和文档
2. 请求至少一名项目维护者的代码审查
3. 所有自动化测试必须通过
4. 代码审查中提出的问题必须解决
5. 维护者接受并合并PR

## 发布流程

项目维护者负责版本发布流程：

1. 更新版本号和CHANGELOG.md
2. 创建版本标签
3. 编译二进制文件（如需要）
4. 发布到GitHub Releases
5. 更新文档网站（如有）

---

再次感谢你的贡献！有任何疑问，请随时通过Issue或讨论区与我们联系。 